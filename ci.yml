# Codesphere deployment configuration
# This file demonstrates the CI/CD setup for the Microservice Status Dashboard

prepare:
  # Install Flutter dependencies and build the web application
  - cd frontend && flutter pub get
  - cd frontend && flutter build web
  
  # Install Dart dependencies for the backend
  - cd backend && dart pub get

ports:
  # Backend API server
  - name: backend
    port: 8080
    
  # Frontend static files (if serving separately)
  - name: frontend  
    port: 3000

run:
  # Start the backend API server
  backend:
    - cd backend && dart run bin/server.dart
    
  # Serve frontend static files (alternative approach)
  # In production, you might want to serve static files through a web server
  # or use the backend to serve both API and static files
  frontend:
    - cd frontend/build/web && python3 -m http.server 3000
